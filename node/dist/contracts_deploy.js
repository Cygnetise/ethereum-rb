// Generated by CoffeeScript 1.10.0
(function() {
  var _, c, coinbase, contract, contracts, deasync, deploy, deployContract, env, eth, fs, i, len, result;

  env = require('./env');

  deploy = require('./deploy');

  _ = require('underscore');

  fs = require('fs');

  deasync = require('deasync');

  c = console;

  eth = env.eth;

  coinbase = env.getCoinbase();

  contracts = env.contracts;

  deployContract = function(coinbase, contract) {
    var res;
    res = null;
    deploy.deployContract(coinbase, contract, function(contractData) {
      return res = contractData;
    });
    while (res === null) {
      deasync.runLoopOnce();
    }
    return res;
  };

  for (i = 0, len = contracts.length; i < len; i++) {
    contract = contracts[i];
    result = deployContract(coinbase, contract, function() {
      c.log("contract deployed: " + result.name);
      c.log("getters: ", JSON.stringify(result.getters));
      c.log("setters: ", JSON.stringify(result.setters));
      return c.log("");
    });
  }

  c.log("done!");

  process.exit(0);

}).call(this);
